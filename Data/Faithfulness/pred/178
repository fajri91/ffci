glamorgan set up an unlikely one-day cup victory over gloucestershire after being set a target of 182 to spare in a rain-affected match.