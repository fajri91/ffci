inverness caley thistle earned their first win of the season as they beat st johnstone in the scottish premiership.