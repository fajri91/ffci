inverness caledonian thistle ended a run of three straight scottish premiership defeats with a win over hamilton academical.