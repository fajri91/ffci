militants armed with guns and grenades gained entry after one detonated explosives at a hospital gate and then opened fire on staff and patients.
commandos who landed on the sardar daud hospital roof killed all four attackers after several hours of fighting.
the so-called islamic state (is) group has claimed the attack.
the taliban has denied any involvement.
more than 50 people were also wounded, the defence ministry said.
world powers jostle in afghanistan's new 'great game'
how successful has is been in afghanistan?
stuck between is and the taliban
president ashraf ghani said the attack at the 400-bed hospital "trampled all human values".
"in all religions, a hospital is regarded as an immune site and attacking it is attacking the whole of afghanistan," he said.
the attack began at 09:00 local time (04:30 gmt).
one hospital staff member who was able to get out saw an attacker "wearing a white coat holding a kalashnikov and opening fire on everyone, including the guards, patients and doctors".
one employee wrote on facebook: "attackers are inside the hospital.
pray for us."
the hospital attack marks a change in approach by so-called islamic state fighters in afghanistan - it's the first time they have engaged directly with security forces in the capital.
previously they have targeted civilian gatherings, mainly of shia muslims, as well as causing carnage at the supreme court last month.
but at the hospital they used an approach more commonly associated with the taliban - blowing the gates open to allow gunmen to enter.
this suggests they now have the resources and the military training to expand their attacks.
if that's the case, the security forces could face more such assaults in the coming months.
in the two years since it announced its presence in afghanistan, is has mainly engaged with afghan forces - and more powerful, rival taliban fighters - in the east, near the pakistan border.
it has failed so far to widen its base in the country - one reason, observers suggest, it may now be mounting more headline-grabbing attacks.
the government claims it has rooted out is militants from a number of bases in the east - but has yet to dislodge them from mountainous areas they control.
tv pictures showed people hiding from the gunmen on ledges outside windows on upper floors of the building.
more than six hours after the attack began, interior ministry spokesman sediq sediqqi tweeted that special forces had ended their operation and all the attackers were dead.
the is-affiliated amaq news agency shared two images via the telegram messaging app that appeared to show one of the militants taking part in the assault and a number of dead bodies.
afghanistan's de-facto deputy leader abdullah abdullah also condemned the attack on twitter and vowed to "avenge the blood of our people".
is announced it was moving into afghanistan and pakistan when it declared its so-called khorasan province in 2015 and has since carried out a number of attacks.
in july 2016, a suicide bomb attack on a rally in kabul killed about 80 people.
three months later, two similar attacks during the religious festival of ashura claimed about 30 lives and in november 2016 an attack at a mosque in kabul killed more than 30.
is also claimed a suicide attack at kabul's supreme court last month that killed 22 people and has stepped up activity in both afghanistan and pakistan.
the taliban has also been carrying out attacks, killing 16 people in kabul in suicide attacks a week ago, after beginning its spring offensive early.