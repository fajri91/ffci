investing solutions received those benefit payments over the past two years by finding properties for single homeless men.
the charity, fresh start housing, finds clients from london homeless charities.
neither the charity nor the company act illegally, but a homeless group says the relationship is "a new low".
investing solutions said "the bulk" of their rents get passed to private landlords, while fresh start said they referred clients to both investing solutions and private landlords.
the letting agent makes money by putting several unrelated people in one house and charging housing benefit for each person, rather than the property.
therefore, the total benefit payout is higher than the rent fee passed on to the property's landlord.
both investing solutions and fresh start are based in the same building, a storage unit in south london.
records held at companies house show investing solutions was set up in 2002 by samir patel, who then set up fresh start housing in 2010.
the documents say the charity would help "the needs of current and ex-offenders with a wider goal to reduce poverty, sickness and distress".
operating across seven london boroughs, investing solutions is one of the largest recipients of housing benefit in the uk, making the venture hugely profitable.
in one property we visited, investing solutions was claiming £2,114 per month in housing benefit for two tenants.
the owner of the house was getting £1,150 per month, giving the agency an annual gross profit of £11,568 on the one property.
the company focuses on providing housing to single homeless men over the age of 35, saying that is because this is the group facing "the greatest challenges in accessing accommodation".
but housing benefit legislation allows people aged 35 and over to be housed in private rather than shared accommodation.
in the boroughs in which investing solutions operates, that means they can charge up to £260 per week for each private room.
one of the tenants, nigel mccann, was living in a homeless shelter when he was referred to fresh start housing.
they passed him to investing solutions who housed him in several properties that he describes as wholly unsuitable - various problems included lack of heating and hot water, rats and damp.
he says he had to remove 28 bags of rubbish from one house to begin to make it habitable.
mr mccann said he became aware of how profitable investing solutions was after he did some work for them in 2014.
"it's all about the money, it's not about the people," he added. "
i thought inspections would be made."
nearly half the money that investing solutions has received over the past two years has been paid by wandsworth council in south london, which has paid the lettings agency more than £2.1m.
the council said it has a "dedicated private sector housing team who provide specialist advice to both landlords and tenants to ensure the private rented sector in the borough is safe, secure and affordable".
matt downie, of homeless charity crisis, said: "we've heard many examples of poor practice amongst letting agents as well as good practice.
but this idea of having a charity tacked on to poor practice is a new low."
samir patel said in a statement that fresh start housing was an independent charity with its own board of trustees.
he also said the majority of the properties used were sourced from private sector landlords "who, to make exceedingly clear, own the properties.
the simple point being, the bulk of the rents gets passed to our private sector landlord clients".
he also said his company was "genuinely concerned by some of your allegations concerning the state of one of our landlord client's property".
fresh start housing told us it had housed 788 homeless people since it was founded and 222 homeless people in the last 12 months, including re-housed tenants.
it also said it did not have "authority from the relevant parties" to reveal how many were housed with investing solutions.
a spokeswoman for the department for communities and local government said local authorities were responsible for "rigorously safe-guarding taxpayers' money, with dedicated investigations and inspection teams for private sector housing".